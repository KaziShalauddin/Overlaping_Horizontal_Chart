<!DOCTYPE html>
<html>
    <head>
            
            <style>
                                      
                /* Mobile Styles */
                @media only screen and  (max-width: 1018px) {
                        .current-roll-css {
                                        
                                        margin-top: -35px;
                                        margin-left: -95px;
                                    }
                    }
                  
                    /* Tablet Styles */
                  
                    @media only screen and (min-width: 1019px) and (max-width: 1023px) {
                        .current-roll-css {
                                        
                                        margin-top: -35px;
                                        margin-left: -100px;
                                    }
                    }
                    @media only screen and (min-width: 1024px) and (max-width: 1163px) {
                        .current-roll-css {
                                        
                            margin-top: 15px;
                        margin-left: -200px;
                                    }
                    }
                    /* Desktop Styles */
                    @media only screen and (min-width: 1164px) {
                        .current-roll-css {
                                        
                            margin-top: 15px; margin-left: -200px;
                                    }
                    }

                    .current-roll {
                    -webkit-appearance: none;
                    width:200px;
                    height: 25px;
                    /* next line does nothing */
                    color: #f7a700;
                    }
                    .current-roll-css {
                        height:25px;position: absolute;top:0; z-index: 10; 
                    }
                    .current-roll::before {
                   /* content: '60%'; */
                   content: attr(data-before);
                   
                   top: 0;
                   z-index: 10;
                   position:absolute;
                   color: black;
                   margin-left: -48%;
                    }
                    .current-roll::after {
                   content: attr(data-after);
                   top: 0;
                   z-index: 10;
                   position:absolute;
                   color: black;
                   margin-left: 30%;
                    }
                    .previous-roll {
                    -webkit-appearance: none;
                    width:200px;
                    height: 25px;
                    /* next line does nothing */
                    color: #98c11e;
                    /* border-radius: 2px 0px 0px 2px; */
                    }
                    .previous-roll-css {
                        height:50px;position: relative; 
                        /* margin-left: 35px; */
                    }
                    .previous-roll::before {
                   content: attr(data-before);
                   top: 0;
                   z-index: 10;
                   position:absolute;
                   color: black;
                   margin-left: -48%;
                    }
                    .previous-roll::after {
                   content:attr(data-after);
                   top: 0;
                   z-index: 10;
                   position:absolute;
                   color: black;
                   margin-left: 30%;
                    }
                    progress.previous-roll::-webkit-progress-bar {
                    border-radius: 10px 0px 0px 10px;

                    background: #d8d8d8;
                    }
                    progress.previous-roll::-webkit-progress-value {
                        border-radius: 10px 0px 0px 10px;

                    background: #f7a700;
                    }
                    progress.current-roll::-webkit-progress-bar {
                    background: #98c11e;
                    }
                    progress.current-roll::-webkit-progress-value {
                    background: red;
                    }
            </style>
            <style>
                   .tooltip {
              position: relative;
              display: inline-block;
              border-bottom: 1px black;
            }
            
            .tooltip .tooltiptext {
              visibility: hidden;
              width: 120px;
              background-color: #555;
              color: #fff;
              text-align: center;
              border-radius: 6px;
              padding: 5px 0;
              position: absolute;
              z-index: 1;
              bottom: 120%;
              left: 50%;
              margin-left: -60px;
              opacity: 0;
              transition: opacity 0.3s;
            }
            
            .tooltip .tooltiptext::after {
              content: "";
              position: absolute;
              top: 100%;
              left: 50%;
              margin-left: -5px;
              border-width: 5px;
              border-style: solid;
              border-color: #555 transparent transparent transparent;
            }
            
            .tooltip:hover .tooltiptext {
              visibility: visible;
              opacity: 1;
            }          
            </style>
            <style>         
                /* Text */

          </style>
          <style>
              /* Card */
                * {
                  box-sizing: border-box;
                }
                
                body {
                  font-family: Arial, Helvetica, sans-serif;
                }
                
                /* Float four columns side by side */
                .column {
                  float: left;
                  width: 25%;
                  padding: 0 10px;
                }
                
                /* Remove extra left and right margins, due to padding */
                .row {margin: 0 -2px;}
                
                /* Clear floats after the columns */
                .row:after {
                  content: "";
                  display: table;
                  clear: both;
                
                }
                
                /* Responsive columns */
                @media screen and (max-width: 600px) {
                  .column {
                    width: 100%;
                    display: block;
                    margin-bottom: 20px;
                  }
                }
                
                /* Style the counter cards */
                .card {
                  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
                  padding: 16px;
                  text-align: center;
                  background-color: #f1f1f1;
                }
                </style>
    </head>
<body>
        <!-- https://stackoverflow.com/questions/10061414/changing-width-property-of-a-before-css-selector-using-jquery/10061479 -->
        <!-- https://stackoverflow.com/questions/39128407/multiple-progress-elements-on-a-page-with-different-colors -->
        <!-- https://stackoverflow.com/questions/55771180/how-to-use-a-css-class-with-an-icon-class-in-an-a-tag -->
<div class="container">
        <div class="column">
                <div class="card">
        <div ><h2 style="color:white; background:orange; text-align: center;">Dhaka City</h2></div>
            <span class="tooltip">
               <span class="tooltiptext">2019</span>
                <progress id="p1" data-zone="Dhaka" class="previous-roll previous-roll-css"  data-after="" data-before=""  style="" value="50" max="100">
                </progress>
          </span>
          
          <span class="tooltip" style="position: absolute;">
                <span class="tooltiptext" style="bottom: 0%; margin-left: -150px; ">2020</span>
          <progress id="p2" data-zone="Dhaka"  class="current-roll current-roll-css"  data-after="" data-before="" style=" "  value="50" max="100">    
            </progress>
           
        </span>

        <div style="margin-top: 20px;">
                <p> Last Year:  <input type="text" id="txt2019"/> </p>
                <p> Next Year:  <input type="text" id="txt2020"/> </p>  
                <button type="button" class="btn-success" style="float: right;" id="btnSubmit"> Submit </button>
                <div style="clear: both"></div>
        </div>
</div>
</div>
             
<div class="column">
        <div class="card">  
            <div ><h2 style="color:white; background:orange;">Gazipur City</h2></div>
                <span class="tooltip">
                   <span class="tooltiptext">2019</span>
                    <progress id="p3" data-zone="Gazipur" class="previous-roll previous-roll-css"  data-after="" data-before=""  style="" value="50" max="100">
                    </progress>
              </span>
              
              <span class="tooltip" style="position: absolute;">
                    <span class="tooltiptext" style=" bottom: 0%; margin-left: -150px; ">2020</span>
              <progress id="p4" data-zone="Gazipur"  class="current-roll current-roll-css"  data-after="" data-before="" style=" "  value="50" max="100">    
                </progress>
               
            </span>
            <div style="margin-top: 20px;">
                    <p> Last Year:  <input type="text" id="txt2019_2"/> </p>
                    <p> Next Year:  <input type="text" id="txt2020_2"/> </p>  
                    <button type="button" class="btn-success" style="float: right;" id="btnSubmit_2"> Submit </button>
                    <div style="clear: both"></div>
                </div>
        </div>
       
    </div> 

    <div class="column">
            <div class="card">
    <div ><h2 style="color:white; background:orange; text-align: center;">Total</h2></div>
        <span class="tooltip">
           <span class="tooltiptext">2019</span>
            <progress id="p5" data-zone="Total" class="previous-roll previous-roll-css"  data-after="" data-before=""  style="" value="50" max="100">
            </progress>
      </span>
      
      <span class="tooltip" style="position: absolute;">
            <span class="tooltiptext" style=" bottom: 0%; margin-left: -150px; ">2020</span>
      <progress id="p6" data-zone="Total"  class="current-roll current-roll-css"  data-after="" data-before="" style=" "  value="50" max="100">    
        </progress>
       
    </span>

    <div style="margin-top: 20px;">
            <p> Last Year:  <input type="text" id="txt2019_3"/> </p>
            <p> Next Year:  <input type="text" id="txt2020_3"/> </p>  
            <button type="button" class="btn-success" style="float: right;" id="btnSubmit_3"> Submit </button>
            <div style="clear: both"></div>
    </div>
</div>
</div>
</div> 

</body>
<script  src="https://code.jquery.com/jquery-3.4.1.min.js"  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="  crossorigin="anonymous"></script>
<script>
$("#btnSubmit").click(function(){
   // alert($('#txt2019').val());
    // $('#progress').text($('#txt2019').val());
    var child=$('#txt2019').val()*100 / 100;
    var child2=$('#txt2020').val()*100 / 100;

    // var childRemaining=(100-child) *100/100;
    // alert(childRemaining);
   
    // $("#child").attr('data-after',child.toString()+"%");
    // $("#childRemaining").html(childRemaining.toString()+"%");

    $(function() {
            $("#p1").prop('value', child);
            $("#p2").prop('value', child2);
        });
        $("#p1").attr('data-before',child.toString()+"%");
        $("#p1").attr('data-after',(100-child).toString()+"%");
        $("#p2").attr('data-before',child2.toString()+"%");
        $("#p2").attr('data-after',(100-child2).toString()+"%");
        
      
});

        // $("#p1").click(function(){
        //     alert(" p1 clicked");
        // });
        // $("#p2").click(function(){
        //     alert(" p2 clicked");
        // });

        document.getElementById('p1').addEventListener('click', function (e) {
    //         var offsetLeft=this.offsetLeft;
    //         var offsetTop=this.offsetTop;
    //         var x = e.pageX - offsetLeft,
    //             y = e.pageY - offsetTop;
  
    //     // clickedValue = x * this.max / this.offsetWidth;
    //     clickedValue = x / this.max;

    //  console.log(x, y, clickedValue);

              var max = $(this).width(); //Get width element
              var pos = e.pageX - $(this).offset().left; //Position cursor
              var dual = Math.round(pos / max * 100); // Round %


              if (dual > 100) {
                var dual = 100;
              }

              var value= $(this).attr('value');
            alert("p1 : "+ dual +" & value : "+value);

             var zone=$(this).attr('data-zone');
             alert(zone);
    });
  $('#p2')[0].addEventListener('click', function (e) {
                 var max = $(this).width(); //Get width element
              var pos = e.pageX - $(this).offset().left; //Position cursor
              var dual = Math.round(pos / max * 100); // Round %


              if (dual > 100) {
                var dual = 100;
              }

            var value= $(this).attr('value');
            alert("p2 : "+ dual +" & value : "+value);

             var zone=$(this).attr('data-zone');
             alert(zone);
    });
   

    $("#btnSubmit_2").click(function(){

    var child=$('#txt2019_2').val()*100 / 100;
    var child2=$('#txt2020_2').val()*100 / 100;

    $(function() {
            $("#p3").prop('value', child);
            $("#p4").prop('value', child2);
        });
        $("#p3").attr('data-before',child.toString()+"%");
        $("#p3").attr('data-after',(100-child).toString()+"%");
        $("#p4").attr('data-before',child2.toString()+"%");
        $("#p4").attr('data-after',(100-child2).toString()+"%");
    });

    $('#p3')[0].addEventListener('click', function (e) {
                 var max = $(this).width(); //Get width element
              var pos = e.pageX - $(this).offset().left; //Position cursor
              var dual = Math.round(pos / max * 100); // Round %


              if (dual > 100) {
                var dual = 100;
              }

              var value= $(this).attr('value');
            alert("p3 : "+ dual +" & value : "+value);
             var zone=$(this).attr('data-zone');
             alert(zone);
    });

    $('#p4')[0].addEventListener('click', function (e) {
                 var max = $(this).width(); //Get width element
              var pos = e.pageX - $(this).offset().left; //Position cursor
              var dual = Math.round(pos / max * 100); // Round %


              if (dual > 100) {
                var dual = 100;
              }

              var value= $(this).attr('value');
            alert("p4 : "+ dual +" & value : "+value);
             var zone=$(this).attr('data-zone');
             alert(zone);
    });

    $("#btnSubmit_3").click(function(){

var child=$('#txt2019_3').val()*100 / 100;
var child2=$('#txt2020_3').val()*100 / 100;

$(function() {
        $("#p5").prop('value', child);
        $("#p6").prop('value', child2);
    });
    $("#p5").attr('data-before',child.toString()+"%");
    $("#p5").attr('data-after',(100-child).toString()+"%");
    $("#p6").attr('data-before',child2.toString()+"%");
    $("#p6").attr('data-after',(100-child2).toString()+"%");
});

$('#p5')[0].addEventListener('click', function (e) {
             var max = $(this).width(); //Get width element
          var pos = e.pageX - $(this).offset().left; //Position cursor
          var dual = Math.round(pos / max * 100); // Round %


          if (dual > 100) {
            var dual = 100;
          }

          var value= $(this).attr('value');
        alert("p5 : "+ dual +" & value : "+value);
         var zone=$(this).attr('data-zone');
         alert(zone);
});

$('#p6')[0].addEventListener('click', function (e) {
             var max = $(this).width(); //Get width element
          var pos = e.pageX - $(this).offset().left; //Position cursor
          var dual = Math.round(pos / max * 100); // Round %


          if (dual > 100) {
            var dual = 100;
          }

          var value= $(this).attr('value');
        alert("p6 : "+ dual +" & value : "+value);
         var zone=$(this).attr('data-zone');
         alert(zone);
});
</script>
    </html>